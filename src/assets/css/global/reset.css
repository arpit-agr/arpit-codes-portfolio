*,
*::before,
*::after {
	box-sizing: border-box;
}

:not(dialog) {
	margin: 0;
}

html {
	block-size: 100%;

	/* Prevent font size inflation */
	/* Explainer: https://kilianvalkhof.com/2022/css-html/your-css-reset-needs-text-size-adjust-probably/ */
	-moz-text-size-adjust: none;
	-webkit-text-size-adjust: none;
	text-size-adjust: none;

	@media (--motionOK) {
		scroll-behavior: smooth;
	}
}

@media (--motionOK) {
	:focus-visible {
		transition: outline-offset 0.125s;
	}
	:not(:active):focus-visible {
		transition-duration: 0.25s;
	}
}

:where(:not(:active):focus-visible) {
	outline-offset: 5px;
}

body {
	min-block-size: 100%;
}

h1,
h2,
h3 {
	text-box: trim-both cap alphabetic;
	text-wrap: balance;
}

p {
	max-inline-size: var(--measure, 60ch);
	text-wrap: pretty;
}

:where(a, u, ins, abbr) {
	text-underline-offset: 1px;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
	text-decoration-skip-ink: auto;
	color: currentColor;
}

img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
	display: block;
}

img,
svg,
video {
	max-inline-size: 100%;
	block-size: auto;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ol[role="list"],
ul[role="list"] {
	list-style: none;
	padding-inline-start: 0; /* Browsers apply a default padding-inline-start of 40px */
}

hr {
	block-size: 1px;
	background-color: canvasText;
}

sup {
	font-size: 0.5em;
}

input,
button,
textarea,
select,
input[type="file"]::-webkit-file-upload-button {
	font: inherit;
	font-size: inherit;
	color: inherit;
	letter-spacing: inherit;
}

::placeholder {
	opacity: 0.75;
}

select {
	padding-block: 0.75ch;
	field-sizing: content;
}

textarea {
	resize: block;
	field-sizing: content;
}

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
	min-block-size: 10lh;
}

a[href],
area,
button,
input:not(
	[type="text"],
	[type="email"],
	[type="number"],
	[type="password"],
	[type=""],
	[type="tel"],
	[type="url"]
),
label[for],
select,
summary,
[tabindex]:not([tabindex*="-"], pre) {
	cursor: pointer;
}

a[href],
area,
button,
input,
label[for],
select,
summary,
textarea,
[tabindex]:not([tabindex*="-"]) {
	touch-action: manipulation;
	-webkit-tap-highlight-color: transparent;
}

:not(pre) > code,
kbd {
	white-space: nowrap;
}

pre {
	white-space: pre;
	min-inline-size: 0;
	max-inline-size: max-content;
	writing-mode: lr;
	direction: ltr;
}

:target {
	scroll-margin-block: 5ex;
}
